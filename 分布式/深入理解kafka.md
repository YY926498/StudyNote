# 初始Kafka

kafka扮演如下角色：

1.  消息系统：Kafka和传统的消息系统都具备系统解耦、冗余存储、流量削峰、缓冲、异步通信、扩展性、可恢复性等功能，并且Kafka还提供了消息顺序性保障及回溯消费的功能。
2.  存储系统：Kafka把消息持久化到磁盘，有效降低数据丢失的分享。
3.  流式处理平台：Kafka为流式处理框架提供了可靠的数据来源，并且提供了完整的流式处理类库。

## 基本概念

Kafka体系架构包括若干Producer、若干Broker、若干Consumer以及一个ZooKeeper集群。Producer将消息发送到Broker，Broker负责将收到的消息存储到磁盘中，Consumer负责从Broker订阅定消费消息。ZooKeeper是Kafka用来负责集群元数据的管理、控制器的选举等操作。

Kafka的消息以主题为单位进行归类，生产者将消息发送到特定的主体，消费者负责订阅主题并进行消费。

主题是逻辑上的概念，可以细分为多个分区，一个分区只属于单个主题。同一个主题下的不同分区包含的消息时不同的，分区在存储层面可以看做一个可追加的日志文件。消息在被追加到分区日志文件的时候都会分配一个特定的偏移量（offset）。offset是消息在分区中的唯一标识