# 类的析构函数及限制位置

如果类是**私有继承或受保护继承或者虚继承**，那么这时基类的析构函数不必定义为虚函数，因为，不能用基类的指针或引用指向派生类实体。

如果限制类必须在栈上，可以将成员函数`new`和`delete`删除

如果限制类必须在堆上，将析构函数定义在`private`中，然后建立成员函数`destory`，内部`delete this`即可。

如果判断类是否在堆上：类内定义一个`static`容器，存放通过`new`建立的对象的地址，然后每次判断一个类是否在堆上，就把该对象的首地址传进去，如果存在，就说明该对象是在堆上构建的