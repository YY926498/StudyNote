# Windows进程

构成：

- 一个内核对象，操作系统用它来管理进程。内核对象也是系统保存进程统计信息的地方。
- 一个地址空间，其中包含所有可执行文件或DLL模块的代码和数据。此外，它还包含动态内存分配，比如线程堆栈和堆的分配。

终止进程的方式：

- 主线程的入口点函数返回（强烈推荐的方式）
- 进程中的一个线程调用ExitProcess（要避免这种方式）
- 另一个进程中的线程调用TerminateProcess（避免这种方式）
- 进程中的所有线程都“自然死亡”（几乎从来不会发生）

调用ExitProcess时，会造成进程“当场终止运行”：C/C++运行时没有机会执行清理工作。

进程在终止后绝对不会泄露任何资源。